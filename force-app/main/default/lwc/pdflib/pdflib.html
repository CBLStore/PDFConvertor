<template>
  <lightning-spinner
    if:true={isLoading}
    alternative-text="Loading"
    size="small"
  ></lightning-spinner>
  <div class="slds-m-around_small">
    <lightning-input
      label="File Name"
      name="fileNameInput"
      value={fileName}
      onchange={handleFileNameChange}
    ></lightning-input>
  </div>
  <div class="slds-m-around_small">
    <lightning-input
      label=""
      name="fileUploader"
      onchange={handleFilesChange}
      type="file"
      multiple
    ></lightning-input>
  </div>

  <!-- Add a button to cancel each selected file -->
<div class="slds-m-around_small">
  <template if:true={selectedFiles.length}>
    <ul>
      <template for:each={selectedFiles} for:item="file" for:index="index">
        <li key={file.name}>
          {file.name}
          <lightning-button-icon
            icon-name="utility:close"
            variant="bare"
            onclick={handleCancelFile}
            alternative-text="Cancel"
            title="Cancel"
            data-index={index}
          ></lightning-button-icon>
        </li>
      </template>
    </ul>
  </template>
</div>


  <div class="slds-m-around_small">
    <lightning-button label="Upload" onclick={handleUpload}></lightning-button>
  </div>
</template>